\documentclass[main.tex]{subfiles}

\begin{document}
\sekce{KÃ³d}

\obrazek
\rustfile{../../../rust/src/main.rs} % FIXME: change path
\endobrl{main.rs\obrzdroj{my source code}}{main.rs}

\obrazek
\begin{cppcode}
     #include <iostream>
     #include <vector>

     int main() {
          std::cout << "Hello, World!";
          if (2 <= 5) {
               std::vector<uint64_t> v;
               v.push_back(5);
          } else {
               std::cout << "This is not possible";
          }
          return 0;
     }
     // honestly -> quite -> boring
\end{cppcode}
\endobrl{main.cpp\obrzdroj{my source code}}{main.cpp}
\end{document}
